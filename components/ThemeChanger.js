import React, { useState, useEffect } from "react";
import { useTheme } from "next-themes";

function ThemeChanger() {
  const [mounted, setMounted] = useState(false);
  const { theme, setTheme } = useTheme();
  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) {
    return null;
  }
  return (
    <button
      id="theme_changer"
      onClick={() => {
        setTheme(theme == "light" ? "dark" : "light");
      }}
    >
      {theme == "light" ? (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29.34 29.34">
          <g data-name="Layer 1">
            <circle cx="14.67" cy="14.67" r="6.1" />
            <path d="M14.51 5.43c-.69 0-1.25-.55-1.25-1.22V1.22c0-.67.56-1.22 1.25-1.22s1.25.55 1.25 1.22v2.99c0 .67-.56 1.22-1.25 1.22Z" />
            <path d="m4.18 4.41 3.84 3.84" />
            <path d="M8.02 8.25c-.49.49-1.27.5-1.75.02L4.15 6.15c-.48-.48-.47-1.26.02-1.75s1.27-.5 1.75-.02L8.04 6.5c.48.48.47 1.26-.02 1.75Z" />
            <path d="M0 14.84h5.43" />
            <path d="M5.43 14.84c0 .69-.55 1.25-1.22 1.25H1.22c-.67 0-1.22-.56-1.22-1.25s.55-1.25 1.22-1.25h2.99c.67 0 1.22.56 1.22 1.25Z" />
            <path d="m4.41 25.16 3.84-3.84" />
            <path d="M8.25 21.32c.49.49.5 1.27.02 1.75l-2.12 2.12c-.48.48-1.26.47-1.75-.02s-.5-1.27-.02-1.75L6.5 21.3c.48-.48 1.26-.47 1.75.02Z" />
            <path d="M14.84 29.34v-5.43" />
            <path d="M14.84 23.91c.69 0 1.25.55 1.25 1.22v2.99c0 .67-.56 1.22-1.25 1.22s-1.25-.55-1.25-1.22v-2.99c0-.67.56-1.22 1.25-1.22Z" />
            <path d="m25.16 24.93-3.84-3.84" />
            <path d="M21.32 21.09c.49-.49 1.27-.5 1.75-.02l2.12 2.12c.48.48.47 1.26-.02 1.75s-1.27.5-1.75.02l-2.12-2.12c-.48-.48-.47-1.26.02-1.75Z" />
            <path d="M29.34 14.51h-5.43" />
            <path d="M23.91 14.51c0-.69.55-1.25 1.22-1.25h2.99c.67 0 1.22.56 1.22 1.25s-.55 1.25-1.22 1.25h-2.99c-.67 0-1.22-.56-1.22-1.25Z" />
            <path d="m24.93 4.18-3.84 3.84" />
            <path d="M21.09 8.02c-.49-.49-.5-1.27-.02-1.75l2.12-2.12c.48-.48 1.26-.47 1.75.02s.5 1.27.02 1.75l-2.12 2.12c-.48.48-1.26.47-1.75-.02Z" />
          </g>
        </svg>
      ) : (
        <svg
          id="moon"
          data-name="Layer 2"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 26.51 25.99"
        >
          <path d="M25.01,14.02c-.69,6.16-6.12,10.89-12.57,10.44-5.55-.39-10.19-4.78-10.85-10.3C.89,8.31,4.47,3.18,9.6,1.5c-.67,1.38-1.03,2.92-1.01,4.56,.06,4.8,3.59,9.03,8.31,9.89,3.04,.56,5.93-.26,8.11-1.94Z" />
        </svg>
      )}
    </button>
  );
}

export default ThemeChanger;
